{"id":"../../node_modules/@iobroker/adapter-react/Components/Router.js","dependencies":[{"name":"/opt/iobroker/iobroker.rssfeed/node_modules/@iobroker/adapter-react/Components/Router.js.map","includedInParent":true,"mtime":499162500000},{"name":"/opt/iobroker/iobroker.rssfeed/package.json","includedInParent":true,"mtime":1608154630504},{"name":"/opt/iobroker/iobroker.rssfeed/node_modules/@iobroker/adapter-react/package.json","includedInParent":true,"mtime":1608065865079},{"name":"react","loc":{"line":10,"column":44},"parent":"/opt/iobroker/iobroker.rssfeed/node_modules/@iobroker/adapter-react/Components/Router.js","resolved":"/opt/iobroker/iobroker.rssfeed/node_modules/react/index.js"}],"generated":{"js":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/**\r\n * @template P Type of the properties object.\r\n * @template S Type of the internal state object.\r\n * @extends {React.Component<P, S>}\r\n */\nvar Router = /*#__PURE__*/function (_React$Component) {\n  _inherits(Router, _React$Component);\n\n  var _super = _createSuper(Router);\n\n  /**\r\n   * @param {P} props The React properties of this component.\r\n   */\n  function Router(props) {\n    var _this;\n\n    _classCallCheck(this, Router);\n\n    _this = _super.call(this, props);\n    _this.onHashChangedBound = _this.onHashChanged.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Router, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('hashchange', this.onHashChangedBound);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('hashchange', this.onHashChangedBound);\n    }\n  }, {\n    key: \"onHashChanged\",\n    value: function onHashChanged() {// override this function\n    }\n    /**\r\n     * Gets the location object.\r\n     * @returns {{ tab: string; dialog: string; id: string; arg: string; }}\r\n     */\n\n  }], [{\n    key: \"getLocation\",\n    value: function getLocation() {\n      var hash = window.location.hash;\n      hash = hash.replace(/^#/, '');\n      var parts = hash.split('/'); // #tabName/dialogName/deviceId\n\n      return {\n        tab: parts[0] || '',\n        dialog: parts[1] || '',\n        id: parts[2] || '',\n        arg: parts[3] || ''\n      };\n    }\n    /**\r\n     * Navigate to a new location. Any parameters that are not set will be taken from the current location.\r\n     * @param {string | undefined} [tab]\r\n     * @param {string | undefined} [dialog]\r\n     * @param {string | undefined} [id]\r\n     * @param {string | undefined} [arg]\r\n     */\n\n  }, {\n    key: \"doNavigate\",\n    value: function doNavigate(tab, dialog, id, arg) {\n      var hash = '';\n      var location = Router.getLocation();\n\n      if (arg !== undefined && !id) {\n        id = location.id;\n      }\n\n      if (id && !dialog) {\n        dialog = location.dialog;\n      }\n\n      if (dialog && !tab) {\n        tab = location.tab;\n      } else if (tab === null) {\n        tab = location.tab;\n      }\n\n      if (tab) {\n        hash = '#' + tab;\n\n        if (dialog) {\n          hash += '/' + dialog;\n\n          if (id) {\n            hash += '/' + id;\n\n            if (arg !== undefined) {\n              hash += '/' + arg;\n            }\n          }\n        }\n      }\n\n      if (window.location.hash !== hash) {\n        window.location.hash = hash;\n      }\n    }\n  }]);\n\n  return Router;\n}(_react[\"default\"].Component);\n\nvar _default = Router;\nexports[\"default\"] = _default;\n\n"},"sourceMaps":{"js":{"version":3,"sources":["Router.js"],"names":["Router","props","onHashChangedBound","onHashChanged","bind","window","addEventListener","removeEventListener","hash","location","replace","parts","split","tab","dialog","id","arg","getLocation","undefined","React","Component"],"mappings":";;;;;;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;IACMA,M;;;;;AACF;AACJ;AACA;AACI,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;AACA,UAAKC,kBAAL,GAA0B,MAAKC,aAAL,CAAmBC,IAAnB,+BAA1B;AAFe;AAGlB;;;;wCAEmB;AAChBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsC,KAAKJ,kBAA3C;AACH;;;2CAEsB;AACnBG,MAAAA,MAAM,CAACE,mBAAP,CAA2B,YAA3B,EAAyC,KAAKL,kBAA9C;AACH;;;oCAEe,CACZ;AACH;AAED;AACJ;AACA;AACA;;;;kCACyB;AACjB,UAAIM,IAAI,GAAGH,MAAM,CAACI,QAAP,CAAgBD,IAA3B;AACAA,MAAAA,IAAI,GAAGA,IAAI,CAACE,OAAL,CAAa,IAAb,EAAmB,EAAnB,CAAP;AACA,UAAMC,KAAK,GAAGH,IAAI,CAACI,KAAL,CAAW,GAAX,CAAd,CAHiB,CAIjB;;AACA,aAAO;AAACC,QAAAA,GAAG,EAAEF,KAAK,CAAC,CAAD,CAAL,IAAY,EAAlB;AAAsBG,QAAAA,MAAM,EAAEH,KAAK,CAAC,CAAD,CAAL,IAAY,EAA1C;AAA8CI,QAAAA,EAAE,EAAEJ,KAAK,CAAC,CAAD,CAAL,IAAY,EAA9D;AAAkEK,QAAAA,GAAG,EAAEL,KAAK,CAAC,CAAD,CAAL,IAAY;AAAnF,OAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;;+BACsBE,G,EAAKC,M,EAAQC,E,EAAIC,G,EAAK;AACpC,UAAIR,IAAI,GAAG,EAAX;AACA,UAAMC,QAAQ,GAAGT,MAAM,CAACiB,WAAP,EAAjB;;AACA,UAAID,GAAG,KAAKE,SAAR,IAAqB,CAACH,EAA1B,EAA8B;AAC1BA,QAAAA,EAAE,GAAGN,QAAQ,CAACM,EAAd;AACH;;AACD,UAAIA,EAAE,IAAI,CAACD,MAAX,EAAmB;AACfA,QAAAA,MAAM,GAAGL,QAAQ,CAACK,MAAlB;AACH;;AACD,UAAIA,MAAM,IAAI,CAACD,GAAf,EAAoB;AAChBA,QAAAA,GAAG,GAAGJ,QAAQ,CAACI,GAAf;AACH,OAFD,MAGA,IAAIA,GAAG,KAAK,IAAZ,EAAkB;AACdA,QAAAA,GAAG,GAAGJ,QAAQ,CAACI,GAAf;AACH;;AAED,UAAIA,GAAJ,EAAS;AACLL,QAAAA,IAAI,GAAG,MAAMK,GAAb;;AACA,YAAIC,MAAJ,EAAY;AACRN,UAAAA,IAAI,IAAI,MAAMM,MAAd;;AAEA,cAAIC,EAAJ,EAAQ;AACJP,YAAAA,IAAI,IAAI,MAAMO,EAAd;;AACA,gBAAIC,GAAG,KAAKE,SAAZ,EAAuB;AACnBV,cAAAA,IAAI,IAAI,MAAMQ,GAAd;AACH;AACJ;AACJ;AACJ;;AACD,UAAIX,MAAM,CAACI,QAAP,CAAgBD,IAAhB,KAAyBA,IAA7B,EAAmC;AAC/BH,QAAAA,MAAM,CAACI,QAAP,CAAgBD,IAAhB,GAAuBA,IAAvB;AACH;AACJ;;;;EAxEgBW,kBAAMC,S;;eA2EZpB,M","sourcesContent":["// please do not delete React, as without it other projects could not be compiled: ReferenceError: React is not defined\r\nimport React from 'react';\r\n\r\n/**\r\n * @template P Type of the properties object.\r\n * @template S Type of the internal state object.\r\n * @extends {React.Component<P, S>}\r\n */\r\nclass Router extends React.Component {\r\n    /**\r\n     * @param {P} props The React properties of this component.\r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n        this.onHashChangedBound = this.onHashChanged.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('hashchange', this.onHashChangedBound);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('hashchange', this.onHashChangedBound);\r\n    }\r\n\r\n    onHashChanged() {\r\n        // override this function\r\n    }\r\n\r\n    /**\r\n     * Gets the location object.\r\n     * @returns {{ tab: string; dialog: string; id: string; arg: string; }}\r\n     */\r\n    static getLocation() {\r\n        let hash = window.location.hash;\r\n        hash = hash.replace(/^#/, '');\r\n        const parts = hash.split('/');\r\n        // #tabName/dialogName/deviceId\r\n        return {tab: parts[0] || '', dialog: parts[1] || '', id: parts[2] || '', arg: parts[3] || ''};\r\n    }\r\n\r\n    /**\r\n     * Navigate to a new location. Any parameters that are not set will be taken from the current location.\r\n     * @param {string | undefined} [tab]\r\n     * @param {string | undefined} [dialog]\r\n     * @param {string | undefined} [id]\r\n     * @param {string | undefined} [arg]\r\n     */\r\n    static doNavigate(tab, dialog, id, arg) {\r\n        let hash = '';\r\n        const location = Router.getLocation();\r\n        if (arg !== undefined && !id) {\r\n            id = location.id;\r\n        }\r\n        if (id && !dialog) {\r\n            dialog = location.dialog;\r\n        }\r\n        if (dialog && !tab) {\r\n            tab = location.tab;\r\n        } else\r\n        if (tab === null) {\r\n            tab = location.tab;\r\n        }\r\n\r\n        if (tab) {\r\n            hash = '#' + tab;\r\n            if (dialog) {\r\n                hash += '/' + dialog;\r\n\r\n                if (id) {\r\n                    hash += '/' + id;\r\n                    if (arg !== undefined) {\r\n                        hash += '/' + arg;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (window.location.hash !== hash) {\r\n            window.location.hash = hash;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Router;"],"file":"Router.js"}},"error":null,"hash":"f7c6ef892fb6da6fe353d255f22508e4","cacheData":{"env":{}}}